- job:
    name: test-elk
    project-type: freestyle
    description: |
      <h1>TO-DO</h1>
      <p>
      This is an system integration test, part of Tier 3 test set.<br>
      System integration testing (SIT) is a testing process that exercises a
      software systems coexistence with others.<br>
      http://en.wikipedia.org/wiki/System_integration_testing
      <br>
      It will run a full ELK environment with the plugin.
      </p>
    display-name: 'ELK System integration'
    concurrent: true
    node: docker
    disabled: true
    scm:
      - logstash-input-bugzilla-ci
    builders:
      - shell:
          !include-raw ../scripts/merge.sh
      - shell:
          !include-raw ../scripts/plugin_build.sh
      - shell:
          !include-raw ../scripts/elk_start.sh
      - shell:
          !include-raw ../scripts/elk_setup_dns.sh
      - shell:
          !include-raw ../scripts/elk_test.sh
    publishers:
      - postbuildscript:
          builders:
            - shell:
                !include-raw ../scripts/elk_cleanup.sh
